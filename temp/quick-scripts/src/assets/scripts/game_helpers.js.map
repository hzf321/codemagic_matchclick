{"version":3,"sources":["assets/scripts/game_helpers.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["export default class game_helpers \n{\n    public static randomItem(array: Array<any>) {\n        if (array && array.length > 0) {\n            return array[this.getRandomInt(0,array.length-1)];\n        } else {\n            return null;\n        }\n    }\n    public static Object2Array(obj:Object):any[]\n    {\n        let arr = []\n        for (const key in obj) {\n            arr.push(obj[key])\n        }\n        return arr;\n    }\n    public static getRandom(lower, upper): number {\n        return Math.random() * (upper - lower) + lower;\n    };\n\n    public static getRandomInt(lower, upper): number {\n        return Math.floor(Math.random() * (upper - lower)) + lower;\n    };\n\n    public static seed: number = 5;\n\n    public static seedRandom(): number {\n        return game_helpers.getRandom(0, 1);\n        // this.seed = (this.seed * 9301 + 49297) % 233280;\n        // return this.seed / 233280.0;\n    }\n    public static seedRandomInt(lower, upper): number {\n        return game_helpers.getRandomInt(lower, upper);\n        // return Math.floor(game_helpers.seedRandom() * (upper - lower)) + lower;\n    }\n\n    private static rnd(seed) {\n        seed = (seed * 9301 + 49297) % 233280; //为何使用这三个数?\n        return seed / (233280.0);\n    };\n \n    public static getPowNum(p) {\n        return Math.pow(10, p);\n    };\n\n    public static setServerTime(time: number) {\n        game_helpers.timeOffset = time - new Date().getTime();\n        cc.log(\"timeOffset:\", game_helpers.timeOffset)\n    }\n\n    public static timeOffset: number = 0;\n    public static getServerTime() {\n        return new Date().getTime() + game_helpers.timeOffset;\n    }\n    static formatDate(t) {\n        var date = new Date(t);\n        var YY = date.getFullYear() + '-';\n        var MM = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';\n        var DD = (date.getDate() < 10 ? '0' + (date.getDate()) : date.getDate());\n        var hh = (date.getHours() < 10 ? '0' + date.getHours() : date.getHours()) + ':';\n        var mm = (date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()) + ':';\n        var ss = (date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds());\n        return YY + MM + DD + \" \" + hh + mm + ss;\n    }\n\n    public static cloneObj(obj: any) {\n        obj = JSON.stringify(obj);\n        obj = JSON.parse(obj);\n        return obj;\n    }\n\n    public static getTimeStrByS(second: number) {\n        second = Math.floor(second);\n        if (second < 0) second = 0;\n        var d = Math.floor(second / 3600 / 24);\n        second -= d * 3600 * 24;\n        var h = Math.floor(second / 3600);\n        second -= h * 3600;\n        var m = Math.floor(second / 60);\n        second -= m * 60;\n        var front = \"00\";\n        if (h > 9) {\n            front = \"\" + h;\n        } else {\n            front = \"0\" + h;\n        }\n        var mid = \"00\";\n        if (m > 9) {\n            mid = \"\" + m;\n        } else {\n            mid = \"0\" + m;\n        }\n        var back = \"00\";\n        if (second > 9) {\n            back = \"\" + second;\n        } else {\n            back = \"0\" + second;\n        }\n\n        if (d > 0) {\n            return d + \"天\" + h + \"时\" + m + \"分\";\n        }\n        else {\n            var longTime = h > 0;\n            if (longTime) {\n                return front + \":\" + mid;\n            } else {\n                return mid + \":\" + back;//+ '秒';\n            }\n        }\n    }\n\n    public static getClockStrByS(second: number, showsecond: boolean = true, showhour: boolean = true) {\n        second = Math.floor(second);\n        if (second < 0) second = 0;\n        var h = Math.floor(second / 3600);\n        second -= h * 3600;\n        var m = Math.floor(second / 60);\n        second -= m * 60;\n        var front = \"00\";\n        if (h > 9) {\n            front = \"\" + h;\n        } else {\n            front = \"0\" + h;\n        }\n        var mid = \"00\";\n        if (m > 9) {\n            mid = \"\" + m;\n        } else {\n            mid = \"0\" + m;\n        }\n\n        let str = \"\"\n        if (showhour) {\n            str += front;\n            str += \":\"\n        }\n        str += mid;\n\n        if (showsecond)\n            str += \":\" + (second < 10 ? \"0\" : \"\") + second;\n\n        return str\n    }\n\n    public static checkObjEmpty(obj: any) {\n        if (obj) {\n            for (var i in obj) {\n                return false;\n            }\n            return true;\n        } else {\n            return true;\n        }\n    }\n\n    public static checkOrderOver(orderTime: number) {\n        var date = new Date(orderTime);\n        var dateNow = new Date(game_helpers.getServerTime());\n\n        if (date.getFullYear() == dateNow.getFullYear() &&\n            date.getMonth() == dateNow.getMonth() &&\n            date.getDate() == dateNow.getDate()\n        ) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n\n    //spa 相对tp目录\n    public static loadSpriteFrame(spa:string,name:string,callback:Function = null)\n    {\n        this.loadRes(\"tp/\" + spa,\"texture\",cc.SpriteAtlas,(e,assets:cc.SpriteAtlas)=>{\n            if(e)\n            {\n                console.log(spa,name)\n                cc.error(e)\n            }else\n            {\n                callback(assets.getSpriteFrame(name))\n            }\n        })\n    }\n\n\n\n    public static loadRes(path: string, boundle_name: string, type: typeof cc.Asset, callback: Function = null) {\n        cc.assetManager.loadBundle(boundle_name, (error, bundle: cc.AssetManager.Bundle) => {\n            if (error) {\n                cc.log(error)\n                return\n            }\n            bundle.load(path, type, (e, assets) => {\n                if(e)\n                {\n                    cc.log(e)\n                    return\n                }\n                callback(e,assets)\n            })\n        })\n    }\n\n    public static weight(v: number[]): number {\n        var mTotalWeight = 0;\n        for (var i = 0; i < v.length; ++i) {\n            mTotalWeight += v[i];\n        }\n        if (mTotalWeight <= 0) return -1;\n        var randnum = Math.round(Math.random() * Number.MAX_VALUE) % mTotalWeight;\n        for (var i = 0; i < v.length; ++i) {\n            if (randnum < v[i]) {\n                return i;\n            }\n            else {\n                randnum -= v[i];\n            }\n        }\n        return -1;\n    }\n\n    public static shuffle(arr) {\n        for (let i = arr.length - 1; i >= 0; i--) {\n            let rIndex = Math.floor(Math.random() * (i + 1));\n            let temp = arr[rIndex];\n            arr[rIndex] = arr[i];\n            arr[i] = temp;\n        }\n        return arr;\n    }\n\n    public static getDate(time: number): string {\n        var now = new Date(time),\n            y = now.getFullYear(),\n            m = now.getMonth() + 1,\n            d = now.getDate();\n        return y + \"-\" + (m < 10 ? \"0\" + m : m) + \"-\" + (d < 10 ? \"0\" + d : d) + \" \" + now.toTimeString().substr(0, 8);\n    }\n\n    //货币进位\n    public static goldCrarryBit(gold: number): string {\n\n        var array = [\n            [100000000, 'N'],\n            [10000000, 'T'],\n            [1000000, 'G'],\n            [100000, 'M'],\n            [10000, 'K'],\n            [1000, 'B'],\n        ];\n        for (var i = 0; i < array.length; i++) {\n            var value = gold / (array[i][0] as number);\n            if (value > 1) {\n                return '' + value.toFixed(1) + array[i][1];\n            }\n        }\n        return gold.toString();\n    }\n    //定点数\n    public static fixFloat(val: number, count: number = 2) {\n        var a = Math.pow(10, count)\n        return Math.floor(val * a) / a;\n    }\n\n    //     this.initPool(\"basechip\", ret, 10);\n    //     this.initPool(\"dianchi\", ret, 10);\n    //     this.initPool(\"enery\", ret, 10);\n    //     this.initPool(\"gem\", ret, 10);\n\n\n\n    static formatString(s: string, ...arg) {\n\n        for (var i = 0; i < arg.length; i++) {\n            var reg = new RegExp(\"\\\\{\" + i + \"\\\\}\", \"gm\");\n            s = s.replace(reg, arg[i]);\n        }\n        return s;\n    }\n\n    static count(obj) {\n        if (!obj) return 0;\n        var num = 0;\n        for (var k in obj) {\n            num++;\n        }\n        return num;\n    };\n    static copy(obj) {\n        var newObj = Object.create(obj);\n        Object.assign(newObj, obj);\n        return newObj;\n    }\n    static setGray(icon: cc.Sprite, isGray: boolean) {\n        if (isGray) {\n            icon.setMaterial(0, cc.Material.getBuiltinMaterial('2d-gray-sprite'));\n        } else {\n            icon.setMaterial(0, cc.Material.getBuiltinMaterial('2d-sprite'));\n        }\n    }\n    static setSpriteFrame(sp: cc.Sprite, path: string, bundle: string = 'resources', callback = null): void {\n        let loader = cc.assetManager.getBundle(bundle)\n        loader.load(path, cc.Texture2D, (error, assets: cc.Texture2D) => {\n            if (error) {\n                cc.log('error', path)\n                return\n            }\n            sp.spriteFrame =new cc.SpriteFrame(assets)\n            callback && callback()\n        })\n    }\n    public static initArray2(row: number, col: number, value: number = null) {\n        let arr = []\n        for (let i = 0; i < row; i++) {\n            arr[i] = []\n            for (let j = 0; j < col; j++) {\n                arr[i][j] = value\n            }\n        }\n        return arr\n    }\n    static localConvertWorldPointAR(node) {\n        if (node) {\n            return node.convertToWorldSpaceAR(cc.v2(0, 0));\n        } return null;\n    }\n    static convetOtherNodeSpaceAR(node, targetNode): cc.Vec2 {\n        if (!node || !targetNode) {\n            return null;\n        }\n        let worldPoint = game_helpers.localConvertWorldPointAR(node);\n        return game_helpers.worldConvertLocalPointAR(targetNode, worldPoint);\n    }\n\n    static worldConvertLocalPointAR(node, worldPoint) {\n        if (node) {\n            return node.convertToNodeSpaceAR(worldPoint);\n        }\n        return null;\n    }\n    // 计算 |p1 p2| X |p1 p|\n    static getCross(p1: cc.Vec2, p2: cc.Vec2, p: cc.Vec2) {\n        return (p2.x - p1.x) * (p.y - p1.y) - (p.x - p1.x) * (p2.y - p1.y);\n    }\n    //判断点p是否在p1p2p3p4的正方形内\n    static isPointInMatrix(p1: cc.Vec2, p2: cc.Vec2, p3: cc.Vec2, p4: cc.Vec2, p: cc.Vec2) {\n        let isPointIn = game_helpers.getCross(p1, p2, p) * game_helpers.getCross(p3, p4, p) >= 0 && game_helpers.getCross(p2, p3, p) * game_helpers.getCross(p4, p1, p) >= 0;\n        return isPointIn;\n    }\n    public static randomArray(arr: number[]) {\n        let newArr = []\n        let count = arr.length\n        for (let i = 0; i < count; i++) {\n            let rnd = Math.floor(Math.random() * arr.length)\n            newArr.push(arr[rnd])\n            arr.splice(rnd, 1)\n        }\n        return newArr\n    }\n    public static removeElementFromArray(element: any, arr) {\n        for (let i = arr.length - 1; i >= 0; i--) {\n            if (arr[i] == element) {\n                arr.splice(i, 1)\n                break\n            }\n        }\n    }\n    static getDayCount(year, month) {\n        let runYear = false\n        if ((year % 100 != 0 && year % 4 == 0) || year % 400 == 0) {\n            runYear = true\n        }\n        if (month == 1 || month == 3 || month == 5 || month == 7 || month == 8 || month == 10 || month == 12)\n            return 31\n        else if (month == 4 || month == 6 || month == 9 || month == 11)\n            return 30\n        else\n            return runYear ? 29 : 28\n    }\n};"]}